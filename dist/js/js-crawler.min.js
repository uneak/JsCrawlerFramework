/*! JsCrawler Framework v0.0.0 | (c) Marc Galoyer | MIT */
var Router=function(a){this.routesLength=0,this.routes=[],this.mode=window.history.pushState?"history":"hash",this.hash="#!",this.root=a?a.replace(/^\/?(.*?)\/?$/,"/$1/"):"/"};Router.prototype.getFragment=function(){var a="",b;return"history"===this.mode?(b=new RegExp("^(?:"+this.root+")(.*?)(?:\\?.*)?\\/?$"),a=decodeURI(location.pathname+location.search).replace(b,"$1")):(b=new RegExp(".*?"+this.hash+"\\/?(.*?)\\/?(?:\\?.*)\\/?$"),a=window.location.href.replace(b,"$1")),a},Router.prototype.add=function(a,b){return this.routes[this.routesLength]={route:a,controller:b},this.routesLength++,this},Router.prototype.check=function(a){for(var b=a||this.getFragment(),c=0;c<this.routesLength;c++){var d=b.match(this.routes[c].route);if(d)return d.shift(),this.routes[c].controller.apply({},d),this}return this},Router.prototype.listen=function(){var a=this,b=a.getFragment(),c=function(){b!==a.getFragment()&&(b=a.getFragment(),a.check(b))};return clearInterval(this.interval),this.interval=setInterval(c,50),this},Router.prototype.navigate=function(a){if(a=a?a:"","history"===this.mode)window.history.pushState(null,null,a.replace(/^\/?(.*?)\/?$/,this.root+"$1"));else{var b=new RegExp("(?:"+this.hash+"(.*?)|)$");window.location.href=window.location.href.replace(b,this.hash+a)}return this};var Crawler=function(a){this.__html__=a,this.__cache__=[];var b=/<!--\s+UNEAK:BEGIN:(.*?)\s+-->/gi,c;while(null!=(c=b.exec(this.__html__))){var d=c[1],e=new RegExp("<!--\\s+UNEAK:END:"+d+"\\s+-->","i");e.lastIndex=b.lastIndex;var f;null!=(f=e.exec(this.__html__))?(this[d]=new Crawler(this.__html__.substring(b.lastIndex,f.index)),b.lastIndex=f.index):b.lastIndex++}};Crawler.prototype.byTag=function(a){if(!this.__cache__[a]){var b=new RegExp("<\\s*?("+a+")\\s*?.*?>((?:.|\\r|\\n)*?)<\\/\\s*?\\1\\s*?>","g"),c;null!=(c=b.exec(this.__html__))&&(c.index===b.lastIndex&&b.lastIndex++,this.__cache__[a]=c[2])}return this.__cache__[a]},Crawler.prototype.toString=function(){return this.__html__};var JsCrawler=function(a){this.router=new Router(a)};
//# sourceMappingURL=js-crawler.min.map